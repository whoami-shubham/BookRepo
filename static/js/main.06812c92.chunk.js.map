{"version":3,"sources":["components/Navbar.js","components/Ratings.js","components/Home.js","components/actions/cartActions.js","components/actions/action-types/cart-actions.js","components/Checkout.js","components/Cart.js","App.js","components/reducers/cartReducer.js","index.js"],"names":["Navbar","react_default","a","createElement","className","react_router_dom","to","lib","items","this","props","total","Component","connect","state","addedItems","length","Ratings","full_rating","Math","floor","average_rating","fractional_rating","ceil","f_ratings","fra_ratings","i","push","Home","handleClick","id","_this","addToCart","sortbyRating","sortByrating","searchItems","event","keyword","target","value","searchBook","console","log","_this2","itemList","map","item","key","bookID","onClick","title","authors","Ratings_Ratings","price","type","name","placeholder","onChange","dispatch","pattern","Checkout","handleChecked","e","checked","addShipping","substractShipping","Cart","handleRemove","removeItem","handleAddQuantity","addQuantity","handleSubtractQuantity","subtractQuantity","quantity","components_Checkout","App","components_Navbar","react_router","exact","path","component","initState","data","direction","cartReducer","arguments","undefined","action","Object","objectSpread","dir","sortedItems","sort","property","b","sortby","Sort","JSON","parse","stringify","new_items","keywords","toLowerCase","result","filter","indexOf","serach","addedItem","find","newTotal","concat","toConsumableArray","itemToRemove","store","createStore","ReactDOM","render","es","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.06812c92.chunk.js","sourcesContent":["import React, { Component } from 'react';\r\nimport { Badge} from 'react-materialize';\r\nimport { connect } from 'react-redux'\r\nimport { Link } from 'react-router-dom'\r\n class Navbar extends Component {\r\n    render(){\r\n             \r\n            return(\r\n                <nav className=\"nav-wrapper\">\r\n                    <div className=\"container\">\r\n                        <Link to=\"/home\" className=\"brand-logo\">Book Repo</Link>\r\n                        \r\n                        <ul className=\"right\">\r\n                            <li><Link to=\"/cart\"><i className=\"material-icons\">shopping_cart</i></Link></li>\r\n                            <li><Link to=\"/cart\"><Badge className=\"white\" items>{this.props.total}</Badge></Link></li>\r\n                        </ul>\r\n                    </div>\r\n                </nav>\r\n       \r\n            \r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state)=>{\r\n    return {\r\n      total: state.addedItems.length\r\n    }\r\n  }\r\n\r\nexport default connect(mapStateToProps)(Navbar);","import React, { Component } from 'react'\r\n\r\nexport default class Ratings extends Component {\r\n    render() {\r\n         let full_rating = Math.floor(this.props.average_rating);\r\n         let fractional_rating = Math.ceil(this.props.average_rating)-full_rating;\r\n         let f_ratings = [],fra_ratings = [];\r\n         for(let i = 0;i<full_rating;i++){\r\n            f_ratings.push(<span className=\"fa fa-star checked\"></span>)\r\n         }\r\n         if(fractional_rating>0){\r\n             fra_ratings.push(<i className=\"fa fa-star-half-o\"></i>)\r\n         }\r\n         while(f_ratings.length+fra_ratings.length<5){\r\n             fra_ratings.push(<span className=\"fa fa-star-o\"></span>)\r\n         }\r\n        return (\r\n            <div>\r\n               {f_ratings}\r\n                {fra_ratings}\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux'\r\nimport { Button} from 'react-materialize';\r\nimport { addToCart,sortBooks,searchBooks } from './actions/cartActions'\r\nimport Ratings from './Ratings';\r\n\r\nconst mapStateToProps = (state)=>{\r\n    return {\r\n      items: state.items\r\n    }\r\n}\r\n\r\n class Home extends Component{\r\n      \r\n    handleClick = (id)=>{\r\n        \r\n        this.props.addToCart(id); \r\n        \r\n    }\r\n    // componentWillMount(){\r\n    //     fetch('http://starlord.hackerearth.com/books')\r\n    //      .then(res => res.json())\r\n    //      .then(res => {this.props.addToBooks(res); console.log(res)})\r\n    //      .catch(err => console.log(err))\r\n    // }\r\n    sortbyRating = () => {\r\n        \r\n        this.props.sortByrating();\r\n       \r\n    }\r\n    searchItems = (event) =>{\r\n           const keyword = event.target.value;\r\n           this.props.searchBook(keyword);\r\n           console.log(keyword);\r\n    }\r\n\r\n    render(){\r\n        let itemList = this.props.items.map(item=>{\r\n            return(\r\n                <div className=\"card\" key={item.bookID}>\r\n                        <div className=\"card-content\">\r\n                            <span to=\"/\" className=\"btn-floating halfway-fab waves-effect waves-light red\" onClick={()=>{this.handleClick(item.bookID)}}><i className=\"material-icons\">add</i></span>\r\n                            <p>{item.title}</p>\r\n                            <p>{item.authors}</p>\r\n                            <Ratings average_rating={item.average_rating} key = {item.bookID}/>\r\n                            <p><b>Price: {item.price}$</b></p>\r\n                        </div>\r\n                 </div>\r\n\r\n            )\r\n        })\r\n\r\n        return(\r\n            <div className=\"container\">\r\n                <h3 className=\"center\">Available Books</h3>\r\n                <Button onClick = {()=>{this.sortbyRating()}}>sort by rating</Button>\r\n                <input type=\"text\" name=\"search\" placeholder=\"Search\" onChange = {(event)=>{this.searchItems(event)}} />\r\n                <div className=\"box\">\r\n                    {itemList}\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps= (dispatch)=>{\r\n    \r\n    return{\r\n        addToCart: (id)=>{dispatch(addToCart(id))},\r\n        sortByrating: ()=>{dispatch(sortBooks())},\r\n        searchBook: (keyword) =>{dispatch(searchBooks(keyword))}\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps,mapDispatchToProps)(Home)","\r\nimport { ADD_TO_CART,REMOVE_ITEM,SUB_QUANTITY,ADD_QUANTITY,ADD_SHIPPING ,ADD_ITEMS,SORT_ITEMS,SEARCH_ITEMS} from './action-types/cart-actions'\r\n\r\n//add new items in Books list\r\nexport const addToBooks= (items)=>{\r\n    return{\r\n        type: ADD_ITEMS,\r\n        items\r\n    }\r\n}\r\n\r\n// sort by parameter\r\nexport const sortBooks= ()=>{\r\n    return{\r\n        type: SORT_ITEMS\r\n    }\r\n}\r\n// search by string\r\nexport const searchBooks= (pattern)=>{\r\n    return{\r\n        type: SEARCH_ITEMS,\r\n        pattern\r\n    }\r\n}\r\n\r\n//add cart action\r\nexport const addToCart= (id)=>{\r\n    return{\r\n        type: ADD_TO_CART,\r\n        id\r\n    }\r\n}\r\n//remove item action\r\nexport const removeItem=(id)=>{\r\n    return{\r\n        type: REMOVE_ITEM,\r\n        id\r\n    }\r\n}\r\n//subtract qt action\r\nexport const subtractQuantity=(id)=>{\r\n    return{\r\n        type: SUB_QUANTITY,\r\n        id\r\n    }\r\n}\r\n//add qt action\r\nexport const addQuantity=(id)=>{\r\n    return{\r\n        type: ADD_QUANTITY,\r\n        id\r\n    }\r\n}\r\n","\r\n//Types should be in const to identify action\r\n\r\nexport const ADD_TO_CART     = 'ADD_TO_CART';\r\nexport const REMOVE_ITEM     = 'REMOVE_ITEM';\r\nexport const SUB_QUANTITY    = 'SUB_QUANTITY';\r\nexport const ADD_QUANTITY    = 'ADD_QUANTITY';\r\nexport const ADD_SHIPPING    = 'ADD_SHIPPING';\r\nexport const ADD_ITEMS       = 'ADD_ITEMS';\r\nexport const SORT_ITEMS      = 'SORT_ITEMS';\r\nexport const SEARCH_ITEMS    = 'SEARCH_ITEMS';\r\n\r\n","import React, { Component } from 'react'\r\nimport { connect } from 'react-redux'\r\n\r\nclass Checkout extends Component{\r\n    \r\n    componentWillUnmount() {\r\n         \r\n              this.props.substractShipping()\r\n    }\r\n\r\n    handleChecked = (e)=>{\r\n        if(e.target.checked){\r\n            this.props.addShipping();\r\n        }\r\n        else{\r\n            this.props.substractShipping();\r\n        }\r\n    }\r\n\r\n    render(){\r\n  \r\n        return(\r\n            <div className=\"container\">\r\n                <div className=\"collection\">\r\n    \r\n                        <li className=\"collection-item\"><b>Total: {this.props.total} $</b></li>\r\n                    </div>\r\n                    <div className=\"checkout\">\r\n                        <button className=\"waves-effect waves-light btn\">Checkout</button>\r\n                    </div>\r\n                 </div>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state)=>{\r\n    return{\r\n        addedItems: state.addedItems,\r\n        total: state.total\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch)=>{\r\n    return{\r\n        addShipping: ()=>{dispatch({type: 'ADD_SHIPPING'})},\r\n        substractShipping: ()=>{dispatch({type: 'SUB_SHIPPING'})}\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps,mapDispatchToProps)(Checkout)\r\n","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux'\r\nimport { Link } from 'react-router-dom'\r\nimport { removeItem,addQuantity,subtractQuantity} from './actions/cartActions'\r\nimport Checkout from './Checkout'\r\nclass Cart extends Component{\r\n\r\n    //to remove the item completely\r\n    handleRemove = (id)=>{\r\n        this.props.removeItem(id);\r\n    }\r\n    //to add the quantity\r\n    handleAddQuantity = (id)=>{\r\n        this.props.addQuantity(id);\r\n    }\r\n    //to substruct from the quantity\r\n    handleSubtractQuantity = (id)=>{\r\n        this.props.subtractQuantity(id);\r\n    }\r\n    render(){\r\n              \r\n        let addedItems = this.props.items.length ?\r\n            (  \r\n                this.props.items.map(item=>{\r\n                    return(\r\n                       \r\n                        <li className=\"collection-item\" key={item.bookID}>\r\n                                \r\n                                    <div className=\"item-desc\">\r\n                                        <span className=\"title\">{item.title}</span>\r\n                                        <p>{item.authors}</p>\r\n                                        <p><b>Price: {item.price}$</b></p> \r\n                                        <p>\r\n                                            <b>Quantity: {item.quantity}</b> \r\n                                        </p>\r\n                                        <div className=\"add-remove\">\r\n                                            <Link to=\"/cart\"><i className=\"material-icons\" onClick={()=>{this.handleAddQuantity(item.bookID)}}>arrow_drop_up</i></Link>\r\n                                            <Link to=\"/cart\"><i className=\"material-icons\" onClick={()=>{this.handleSubtractQuantity(item.bookID)}}>arrow_drop_down</i></Link>\r\n                                        </div>\r\n                                        <button className=\"waves-effect waves-light btn pink remove\" onClick={()=>{this.handleRemove(item.bookID)}}>Remove</button>\r\n                                    </div>\r\n                                    \r\n                                </li>\r\n                         \r\n                    )\r\n                })\r\n            ):\r\n\r\n             (\r\n                <p> &nbsp; &nbsp; cart is empty .</p>\r\n             )\r\n       return(\r\n            <div className=\"container\">\r\n                <div className=\"cart\">\r\n                    <h5>You have ordered:</h5>\r\n                    <ul className=\"collection\">\r\n                        {addedItems}\r\n                    </ul>\r\n                </div> \r\n                <Checkout />          \r\n            </div>\r\n       )\r\n    }\r\n}\r\n\r\n\r\nconst mapStateToProps = (state)=>{\r\n    return{\r\n        items: state.addedItems,\r\n        //addedItems: state.addedItems\r\n    }\r\n}\r\nconst mapDispatchToProps = (dispatch)=>{\r\n    return{\r\n        removeItem: (id)=>{dispatch(removeItem(id))},\r\n        addQuantity: (id)=>{dispatch(addQuantity(id))},\r\n        subtractQuantity: (id)=>{dispatch(subtractQuantity(id))}\r\n    }\r\n}\r\nexport default connect(mapStateToProps,mapDispatchToProps)(Cart)","import React, { Component } from 'react';\r\nimport {HashRouter as Router, Route, Switch} from 'react-router-dom'\r\nimport Navbar from './components/Navbar'\r\nimport Home from './components/Home'\r\nimport Cart from './components/Cart'\r\n\r\nclass App extends Component {\r\n  render() {\r\n    return (\r\n       <Router>\r\n            <div className=\"App\">\r\n            \r\n              <Navbar/>\r\n                <Switch>\r\n                    <Route exact path=\"/\" component={Home}/>\r\n                    <Route path=\"/home\" component={Home}/>\r\n                    <Route path=\"/cart\" component={Cart}/>\r\n                  </Switch>\r\n             </div>\r\n       </Router>\r\n      \r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","import { ADD_TO_CART,REMOVE_ITEM,SUB_QUANTITY,ADD_QUANTITY,ADD_SHIPPING,ADD_ITEMS,SEARCH_ITEMS,SORT_ITEMS } from '../actions/action-types/cart-actions'\r\nimport data from '../books.json'\r\n\r\nconst initState = {\r\n    items:data,\r\n    addedItems:[],\r\n    total: 0,\r\n    direction:1\r\n\r\n}\r\nconst cartReducer= (state = initState,action)=>{\r\n    // add books using fetch when component will mount\r\n    if (action.type === ADD_ITEMS){\r\n          return {\r\n             ...state,\r\n            items:action.items\r\n          }\r\n     } \r\n    \r\n     // sort items by ratings\r\n\r\n     if (action.type === SORT_ITEMS){\r\n         let dir  = -1*state.direction\r\n         //console.log(state.items.slice(0,10));\r\n         let sortedItems = Sort(JSON.parse(JSON.stringify(state.items)),dir);\r\n         //console.log(sortedItems===state.items);\r\n         //console.log(dir)\r\n         return {\r\n            ...state,\r\n            items: sortedItems,\r\n            direction:dir\r\n         }\r\n     }\r\n\r\n     // search Book \r\n     if(action.type === SEARCH_ITEMS){\r\n         let new_items = serach(state,action.pattern);\r\n         console.log(new_items)\r\n         return{\r\n             ...state,\r\n             items:new_items\r\n         }\r\n     }\r\n\r\n    //add books into cart\r\n    if(action.type === ADD_TO_CART){\r\n          let addedItem = state.items.find(item=> item.bookID === action.id)\r\n          //check if the action id exists in the addedItems\r\n         let existed_item= state.addedItems.find(item=> action.id === item.bookID)\r\n         if(existed_item)\r\n         {\r\n            addedItem.quantity += 1 \r\n             return{\r\n                ...state,\r\n                 total: state.total + addedItem.price \r\n                  }\r\n        }\r\n         else{\r\n            addedItem.quantity = 1;\r\n            //calculating the total\r\n            let newTotal = state.total + addedItem.price \r\n            \r\n            return{\r\n                ...state,\r\n                addedItems: [...state.addedItems, addedItem],\r\n                total : newTotal\r\n            }\r\n            \r\n        }\r\n    }\r\n    if(action.type === REMOVE_ITEM){\r\n        let itemToRemove= state.addedItems.find(item=> action.id === item.bookID)\r\n        let new_items = state.addedItems.filter(item=> action.id !== item.bookID)\r\n        \r\n        //calculating the total\r\n        let newTotal = state.total - (itemToRemove.price * itemToRemove.quantity )\r\n        console.log(itemToRemove)\r\n        return{\r\n            ...state,\r\n            addedItems: new_items,\r\n            total: newTotal\r\n        }\r\n    }\r\n    //INSIDE CART COMPONENT\r\n    if(action.type=== ADD_QUANTITY){\r\n        let addedItem = state.items.find(item=> item.bookID === action.id)\r\n          addedItem.quantity += 1 \r\n          let newTotal = state.total + addedItem.price\r\n          return{\r\n              ...state,\r\n              total: newTotal\r\n          }\r\n    }\r\n    if(action.type=== SUB_QUANTITY){  \r\n        let addedItem = state.items.find(item=> item.bookID === action.id) \r\n        //if the quantity == 0 then it should be removed\r\n        if(addedItem.quantity === 1){\r\n            let new_items = state.addedItems.filter(item=>item.bookID !== action.id)\r\n            let newTotal = state.total - addedItem.price\r\n            return{\r\n                ...state,\r\n                addedItems: new_items,\r\n                total: newTotal\r\n            }\r\n        }\r\n        else {\r\n            addedItem.quantity -= 1\r\n            let newTotal = state.total - addedItem.price\r\n            return{\r\n                ...state,\r\n                total: newTotal\r\n            }\r\n        }\r\n        \r\n    }\r\n\r\n    if(action.type=== ADD_SHIPPING){\r\n          return{\r\n              ...state,\r\n              total: state.total\r\n          }\r\n    }\r\n\r\n    if(action.type==='SUB_SHIPPING'){\r\n        return{\r\n            ...state,\r\n            total: state.total\r\n        }\r\n  }\r\n\r\n    \r\n  else{\r\n    return state\r\n    }\r\n    \r\n}\r\n\r\nfunction Sort(items,dir){\r\n   return items.sort(sortby('average_rating',dir));\r\n   \r\n}\r\n\r\nfunction sortby(property,dir){\r\n    return function(a,b){\r\n                  return (a[property]-b[property])*dir;\r\n    }\r\n}\r\n\r\n\r\nfunction serach(state,keywords){\r\n          keywords = keywords.toLowerCase();\r\n          let result = data.filter((item)=>{\r\n                  return item.title.toLowerCase().indexOf(keywords)>-1;\r\n          })\r\n         console.log(keywords);\r\n         return result;\r\n        \r\n}\r\n\r\nexport default cartReducer\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\nimport './index.css'\r\nimport cartReducer from './components/reducers/cartReducer';\r\nimport { Provider } from 'react-redux';\r\nimport { createStore } from 'redux';\r\n\r\nconst store = createStore(cartReducer);\r\n\r\nReactDOM.render(<Provider store={store}><App /></Provider>, document.getElementById('root'));\r\n\r\n"],"sourceRoot":""}