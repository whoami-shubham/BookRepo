{"version":3,"sources":["components/Navbar.js","components/Ratings.js","components/Home.js","components/actions/cartActions.js","components/actions/action-types/cart-actions.js","components/Recipe.js","components/Cart.js","App.js","components/reducers/cartReducer.js","index.js"],"names":["Navbar","react_default","a","createElement","className","react_router_dom","to","lib","newIcon","this","props","total","Component","connect","state","addedItems","length","Ratings","full_rating","Math","floor","average_rating","fractional_rating","ceil","f_ratings","fra_ratings","i","push","Home","handleClick","id","_this","addToCart","sortbyRating","sortByrating","searchItems","event","keyword","target","value","searchBook","console","log","_this2","itemList","items","map","item","key","bookID","onClick","title","authors","Ratings_Ratings","price","type","name","placeholder","onChange","dispatch","pattern","Recipe","handleChecked","e","checked","addShipping","substractShipping","Cart","handleRemove","removeItem","handleAddQuantity","addQuantity","handleSubtractQuantity","subtractQuantity","quantity","components_Recipe","App","components_Navbar","react_router","exact","path","component","initState","data","direction","cartReducer","arguments","undefined","action","Object","objectSpread","dir","sortedItems","sort","property","b","sortby","Sort","JSON","parse","stringify","new_items","keywords","toLowerCase","result","filter","indexOf","serach","addedItem","find","newTotal","concat","toConsumableArray","itemToRemove","store","createStore","ReactDOM","render","es","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.6d9a24bc.chunk.js","sourcesContent":["import React, { Component } from 'react';\r\nimport { Badge} from 'react-materialize';\r\nimport { connect } from 'react-redux'\r\nimport { Link } from 'react-router-dom'\r\n class Navbar extends Component {\r\n    render(){\r\n             \r\n            return(\r\n                <nav className=\"nav-wrapper\">\r\n                    <div className=\"container\">\r\n                        <Link to=\"/\" className=\"brand-logo\">Book Repo</Link>\r\n                        \r\n                        <ul className=\"right\">\r\n                            <li><Link to=\"/cart\"><i className=\"material-icons\">shopping_cart</i></Link></li>\r\n                            <li><Link to=\"/cart\"><Badge className=\"red\" newIcon>{this.props.total}</Badge></Link></li>\r\n                        </ul>\r\n                    </div>\r\n                </nav>\r\n       \r\n            \r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state)=>{\r\n    return {\r\n      total: state.addedItems.length\r\n    }\r\n  }\r\n\r\nexport default connect(mapStateToProps)(Navbar);","import React, { Component } from 'react'\r\n\r\nexport default class Ratings extends Component {\r\n    render() {\r\n         let full_rating = Math.floor(this.props.average_rating);\r\n         let fractional_rating = Math.ceil(this.props.average_rating)-full_rating;\r\n         let f_ratings = [],fra_ratings = [];\r\n         for(let i = 0;i<full_rating;i++){\r\n            f_ratings.push(<span className=\"fa fa-star checked\"></span>)\r\n         }\r\n         if(fractional_rating>0){\r\n             fra_ratings.push(<i className=\"fa fa-star-half-o\"></i>)\r\n         }\r\n         while(f_ratings.length+fra_ratings.length<5){\r\n             fra_ratings.push(<span className=\"fa fa-star-o\"></span>)\r\n         }\r\n        return (\r\n            <div>\r\n               {f_ratings}\r\n                {fra_ratings}\r\n            </div>\r\n        )\r\n    }\r\n}\r\n","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux'\r\nimport { Button} from 'react-materialize';\r\nimport { addToCart,sortBooks,searchBooks } from './actions/cartActions'\r\nimport Ratings from './Ratings';\r\n\r\nconst mapStateToProps = (state)=>{\r\n    return {\r\n      items: state.items\r\n    }\r\n}\r\n\r\n class Home extends Component{\r\n      \r\n    handleClick = (id)=>{\r\n        \r\n        this.props.addToCart(id); \r\n        \r\n    }\r\n    // componentWillMount(){\r\n    //     fetch('http://starlord.hackerearth.com/books')\r\n    //      .then(res => res.json())\r\n    //      .then(res => {this.props.addToBooks(res); console.log(res)})\r\n    //      .catch(err => console.log(err))\r\n    // }\r\n    sortbyRating = () => {\r\n        \r\n        this.props.sortByrating();\r\n       \r\n    }\r\n    searchItems = (event) =>{\r\n           const keyword = event.target.value;\r\n           this.props.searchBook(keyword);\r\n           console.log(keyword);\r\n    }\r\n\r\n    render(){\r\n        let itemList = this.props.items.map(item=>{\r\n            return(\r\n                <div className=\"card\" key={item.bookID}>\r\n                        <div className=\"card-content\">\r\n                            <span to=\"/\" className=\"btn-floating halfway-fab waves-effect waves-light red\" onClick={()=>{this.handleClick(item.bookID)}}><i className=\"material-icons\">add</i></span>\r\n                            <p>{item.title}</p>\r\n                            <p>{item.authors}</p>\r\n                            <Ratings average_rating={item.average_rating} key = {item.bookID}/>\r\n                            <p><b>Price: {item.price}$</b></p>\r\n                        </div>\r\n                 </div>\r\n\r\n            )\r\n        })\r\n\r\n        return(\r\n            <div className=\"container\">\r\n                <h3 className=\"center\">Available Books</h3>\r\n                <Button onClick = {()=>{this.sortbyRating()}}>sort by rating</Button>\r\n                <input type=\"text\" name=\"search\" placeholder=\"Search\" onChange = {(event)=>{this.searchItems(event)}} />\r\n                <div className=\"box\">\r\n                    {itemList}\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps= (dispatch)=>{\r\n    \r\n    return{\r\n        addToCart: (id)=>{dispatch(addToCart(id))},\r\n        sortByrating: ()=>{dispatch(sortBooks())},\r\n        searchBook: (keyword) =>{dispatch(searchBooks(keyword))}\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps,mapDispatchToProps)(Home)","\r\nimport { ADD_TO_CART,REMOVE_ITEM,SUB_QUANTITY,ADD_QUANTITY,ADD_SHIPPING ,ADD_ITEMS,SORT_ITEMS,SEARCH_ITEMS} from './action-types/cart-actions'\r\n\r\n//add new items in Books list\r\nexport const addToBooks= (items)=>{\r\n    return{\r\n        type: ADD_ITEMS,\r\n        items\r\n    }\r\n}\r\n\r\n// sort by parameter\r\nexport const sortBooks= ()=>{\r\n    return{\r\n        type: SORT_ITEMS\r\n    }\r\n}\r\n// search by string\r\nexport const searchBooks= (pattern)=>{\r\n    return{\r\n        type: SEARCH_ITEMS,\r\n        pattern\r\n    }\r\n}\r\n\r\n//add cart action\r\nexport const addToCart= (id)=>{\r\n    return{\r\n        type: ADD_TO_CART,\r\n        id\r\n    }\r\n}\r\n//remove item action\r\nexport const removeItem=(id)=>{\r\n    return{\r\n        type: REMOVE_ITEM,\r\n        id\r\n    }\r\n}\r\n//subtract qt action\r\nexport const subtractQuantity=(id)=>{\r\n    return{\r\n        type: SUB_QUANTITY,\r\n        id\r\n    }\r\n}\r\n//add qt action\r\nexport const addQuantity=(id)=>{\r\n    return{\r\n        type: ADD_QUANTITY,\r\n        id\r\n    }\r\n}\r\n","\r\n//Types should be in const to identify action\r\n\r\nexport const ADD_TO_CART     = 'ADD_TO_CART';\r\nexport const REMOVE_ITEM     = 'REMOVE_ITEM';\r\nexport const SUB_QUANTITY    = 'SUB_QUANTITY';\r\nexport const ADD_QUANTITY    = 'ADD_QUANTITY';\r\nexport const ADD_SHIPPING    = 'ADD_SHIPPING';\r\nexport const ADD_ITEMS       = 'ADD_ITEMS';\r\nexport const SORT_ITEMS      = 'SORT_ITEMS';\r\nexport const SEARCH_ITEMS    = 'SEARCH_ITEMS';\r\n\r\n","import React, { Component } from 'react'\r\nimport { connect } from 'react-redux'\r\n//import { addShipping } from './actions/cartActions'\r\nclass Recipe extends Component{\r\n    \r\n    componentWillUnmount() {\r\n         \r\n              this.props.substractShipping()\r\n    }\r\n\r\n    handleChecked = (e)=>{\r\n        if(e.target.checked){\r\n            this.props.addShipping();\r\n        }\r\n        else{\r\n            this.props.substractShipping();\r\n        }\r\n    }\r\n\r\n    render(){\r\n  \r\n        return(\r\n            <div className=\"container\">\r\n                <div className=\"collection\">\r\n    \r\n                        <li className=\"collection-item\"><b>Total: {this.props.total} $</b></li>\r\n                    </div>\r\n                    <div className=\"checkout\">\r\n                        <button className=\"waves-effect waves-light btn\">Checkout</button>\r\n                    </div>\r\n                 </div>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state)=>{\r\n    return{\r\n        addedItems: state.addedItems,\r\n        total: state.total\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch)=>{\r\n    return{\r\n        addShipping: ()=>{dispatch({type: 'ADD_SHIPPING'})},\r\n        substractShipping: ()=>{dispatch({type: 'SUB_SHIPPING'})}\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps,mapDispatchToProps)(Recipe)\r\n","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux'\r\nimport { Link } from 'react-router-dom'\r\nimport { removeItem,addQuantity,subtractQuantity} from './actions/cartActions'\r\nimport Recipe from './Recipe'\r\nclass Cart extends Component{\r\n\r\n    //to remove the item completely\r\n    handleRemove = (id)=>{\r\n        this.props.removeItem(id);\r\n    }\r\n    //to add the quantity\r\n    handleAddQuantity = (id)=>{\r\n        this.props.addQuantity(id);\r\n    }\r\n    //to substruct from the quantity\r\n    handleSubtractQuantity = (id)=>{\r\n        this.props.subtractQuantity(id);\r\n    }\r\n    render(){\r\n              \r\n        let addedItems = this.props.items.length ?\r\n            (  \r\n                this.props.items.map(item=>{\r\n                    return(\r\n                       \r\n                        <li className=\"collection-item\" key={item.bookID}>\r\n                                \r\n                                    <div className=\"item-desc\">\r\n                                        <span className=\"title\">{item.title}</span>\r\n                                        <p>{item.authors}</p>\r\n                                        <p><b>Price: {item.price}$</b></p> \r\n                                        <p>\r\n                                            <b>Quantity: {item.quantity}</b> \r\n                                        </p>\r\n                                        <div className=\"add-remove\">\r\n                                            <Link to=\"/cart\"><i className=\"material-icons\" onClick={()=>{this.handleAddQuantity(item.bookID)}}>arrow_drop_up</i></Link>\r\n                                            <Link to=\"/cart\"><i className=\"material-icons\" onClick={()=>{this.handleSubtractQuantity(item.bookID)}}>arrow_drop_down</i></Link>\r\n                                        </div>\r\n                                        <button className=\"waves-effect waves-light btn pink remove\" onClick={()=>{this.handleRemove(item.bookID)}}>Remove</button>\r\n                                    </div>\r\n                                    \r\n                                </li>\r\n                         \r\n                    )\r\n                })\r\n            ):\r\n\r\n             (\r\n                <p> &nbsp; &nbsp; Nothing .</p>\r\n             )\r\n       return(\r\n            <div className=\"container\">\r\n                <div className=\"cart\">\r\n                    <h5>You have ordered:</h5>\r\n                    <ul className=\"collection\">\r\n                        {addedItems}\r\n                    </ul>\r\n                </div> \r\n                <Recipe />          \r\n            </div>\r\n       )\r\n    }\r\n}\r\n\r\n\r\nconst mapStateToProps = (state)=>{\r\n    return{\r\n        items: state.addedItems,\r\n        //addedItems: state.addedItems\r\n    }\r\n}\r\nconst mapDispatchToProps = (dispatch)=>{\r\n    return{\r\n        removeItem: (id)=>{dispatch(removeItem(id))},\r\n        addQuantity: (id)=>{dispatch(addQuantity(id))},\r\n        subtractQuantity: (id)=>{dispatch(subtractQuantity(id))}\r\n    }\r\n}\r\nexport default connect(mapStateToProps,mapDispatchToProps)(Cart)","import React, { Component } from 'react';\r\nimport {BrowserRouter as Router, Route, Switch} from 'react-router-dom'\r\nimport Navbar from './components/Navbar'\r\nimport Home from './components/Home'\r\nimport Cart from './components/Cart'\r\n\r\nclass App extends Component {\r\n  render() {\r\n    return (\r\n       <Router>\r\n            <div className=\"App\">\r\n            \r\n              <Navbar/>\r\n                <Switch>\r\n                    <Route exact path=\"/\" component={Home}/>\r\n                    <Route path=\"/cart\" component={Cart}/>\r\n                  </Switch>\r\n             </div>\r\n       </Router>\r\n      \r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","import { ADD_TO_CART,REMOVE_ITEM,SUB_QUANTITY,ADD_QUANTITY,ADD_SHIPPING,ADD_ITEMS,SEARCH_ITEMS,SORT_ITEMS } from '../actions/action-types/cart-actions'\r\nimport data from '../books.json'\r\n\r\nconst initState = {\r\n    items:data,\r\n    addedItems:[],\r\n    total: 0,\r\n    direction:1\r\n\r\n}\r\nconst cartReducer= (state = initState,action)=>{\r\n    // add books using fetch when component will mount\r\n    if (action.type === ADD_ITEMS){\r\n          return {\r\n             ...state,\r\n            items:action.items\r\n          }\r\n     } \r\n    \r\n     // sort items by ratings\r\n\r\n     if (action.type === SORT_ITEMS){\r\n         let dir  = -1*state.direction\r\n         //console.log(state.items.slice(0,10));\r\n         let sortedItems = Sort(JSON.parse(JSON.stringify(state.items)),dir);\r\n         console.log(sortedItems===state.items);\r\n         console.log(dir)\r\n         return {\r\n            ...state,\r\n            items: sortedItems,\r\n            direction:dir\r\n         }\r\n     }\r\n\r\n     // search Book \r\n     if(action.type === SEARCH_ITEMS){\r\n         let new_items = serach(state,action.pattern);\r\n         console.log(new_items)\r\n         return{\r\n             ...state,\r\n             items:new_items\r\n         }\r\n     }\r\n\r\n    //add books into cart\r\n    if(action.type === ADD_TO_CART){\r\n          let addedItem = state.items.find(item=> item.bookID === action.id)\r\n          //check if the action id exists in the addedItems\r\n         let existed_item= state.addedItems.find(item=> action.id === item.bookID)\r\n         if(existed_item)\r\n         {\r\n            addedItem.quantity += 1 \r\n             return{\r\n                ...state,\r\n                 total: state.total + addedItem.price \r\n                  }\r\n        }\r\n         else{\r\n            addedItem.quantity = 1;\r\n            //calculating the total\r\n            let newTotal = state.total + addedItem.price \r\n            \r\n            return{\r\n                ...state,\r\n                addedItems: [...state.addedItems, addedItem],\r\n                total : newTotal\r\n            }\r\n            \r\n        }\r\n    }\r\n    if(action.type === REMOVE_ITEM){\r\n        let itemToRemove= state.addedItems.find(item=> action.id === item.bookID)\r\n        let new_items = state.addedItems.filter(item=> action.id !== item.bookID)\r\n        \r\n        //calculating the total\r\n        let newTotal = state.total - (itemToRemove.price * itemToRemove.quantity )\r\n        console.log(itemToRemove)\r\n        return{\r\n            ...state,\r\n            addedItems: new_items,\r\n            total: newTotal\r\n        }\r\n    }\r\n    //INSIDE CART COMPONENT\r\n    if(action.type=== ADD_QUANTITY){\r\n        let addedItem = state.items.find(item=> item.bookID === action.id)\r\n          addedItem.quantity += 1 \r\n          let newTotal = state.total + addedItem.price\r\n          return{\r\n              ...state,\r\n              total: newTotal\r\n          }\r\n    }\r\n    if(action.type=== SUB_QUANTITY){  \r\n        let addedItem = state.items.find(item=> item.bookID === action.id) \r\n        //if the quantity == 0 then it should be removed\r\n        if(addedItem.quantity === 1){\r\n            let new_items = state.addedItems.filter(item=>item.bookID !== action.id)\r\n            let newTotal = state.total - addedItem.price\r\n            return{\r\n                ...state,\r\n                addedItems: new_items,\r\n                total: newTotal\r\n            }\r\n        }\r\n        else {\r\n            addedItem.quantity -= 1\r\n            let newTotal = state.total - addedItem.price\r\n            return{\r\n                ...state,\r\n                total: newTotal\r\n            }\r\n        }\r\n        \r\n    }\r\n\r\n    if(action.type=== ADD_SHIPPING){\r\n          return{\r\n              ...state,\r\n              total: state.total\r\n          }\r\n    }\r\n\r\n    if(action.type==='SUB_SHIPPING'){\r\n        return{\r\n            ...state,\r\n            total: state.total\r\n        }\r\n  }\r\n\r\n    \r\n  else{\r\n    return state\r\n    }\r\n    \r\n}\r\n\r\nfunction Sort(items,dir){\r\n   return items.sort(sortby('average_rating',dir));\r\n   \r\n}\r\n\r\nfunction sortby(property,dir){\r\n    return function(a,b){\r\n                  return (a[property]-b[property])*dir;\r\n    }\r\n}\r\n\r\n\r\nfunction serach(state,keywords){\r\n          keywords = keywords.toLowerCase();\r\n          let result = data.filter((item)=>{\r\n                  return item.title.toLowerCase().indexOf(keywords)>-1;\r\n          })\r\n         console.log(keywords);\r\n         return result;\r\n        \r\n}\r\n\r\nexport default cartReducer\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\nimport './index.css'\r\nimport cartReducer from './components/reducers/cartReducer';\r\nimport { Provider } from 'react-redux';\r\nimport { createStore } from 'redux';\r\n\r\nconst store = createStore(cartReducer);\r\n\r\nReactDOM.render(<Provider store={store}><App /></Provider>, document.getElementById('root'));\r\n\r\n"],"sourceRoot":""}